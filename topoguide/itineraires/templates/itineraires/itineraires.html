<!doctype html>
<html lang="en">
  
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <header>
      <!-- Navbar -->
      <nav class="navbar navbar-expand-lg navbar-light bg-white">
        <div class="container-fluid">
          <button
            class="navbar-toggler"
            type="button"
            data-mdb-toggle="collapse"
            data-mdb-target="#navbarExample01"
            aria-controls="navbarExample01"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <i class="fas fa-bars"></i>
          </button>
          <div class="collapse navbar-collapse" id="navbarExample01">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item active">
                <a class="nav-link" aria-current="page" href="#">Itinéraires</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Sorties</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Ajout d'une sortie</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">À propos</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      <!-- Navbar -->
    
      <!-- Jumbotron -->
      <div class="p-5 text-center bg-light">
        <h1 class="mb-3">Trip review</h1>
        <h4 class="mb-3">by Alexia Auddino</h4>
      </div>
      <!-- Jumbotron -->
    </header>
    <body>
      <form action="{% url 'itineraires' %}" method="get">
        <div class="input-group">
            <input type="search" class="form-control rounded" placeholder="Search" aria-label="Search" aria-describedby="search-addon" name="search"/>
            <button type="submit" class="btn btn-outline-primary">search</button>
        </div>
    </form>
        <div class="container mt-3">
            <h2> Itinéraires : </h2>
            <p></p>
      {% if itineraire_list%}
      <table class="table table-hover">
      <thead>
          <tr>
            <th scope="row"> </th>
            <th scope="col"> Nom </th>
            <th scope="col"> Point de départ </th>
            <th scope="col"> Description </th>
            <th scope="col"> Altitude de départ</th>
            <th scope="col"> Altitude minimale </th>
            <th scope="col"> Altitude maximale </th>
            <th scope="col"> Dénivelé positif cumulé</th>
            <th scope="col"> Dénivelé négatif cumulé</th>
            <th scope="col"> Durée estimée </th>
            <th scope="col"> Difficulté estimée </th>
          </tr>
      </thead> 
      <tbody>  
      {% if search %} 
        {% for itineraire in itineraire_list %}
            {% if search|lower in itineraire.titre|lower %}
                <tr>
                    <th scope="row"> </th>
                    <td><a href="/itineraires/{{ itineraire.id }}/">{{ itineraire.titre }}</a></td>
                    <td>{{ itineraire.point_depart }}</td>
                    <td>{{ itineraire.description }} </td>
                    <td>{{ itineraire.altitude_depart }} m</td>
                    <td>{{ itineraire.altitude_max }} m</td>
                    <td>{{ itineraire.altitude_min}} m</td>
                    <td>{{ itineraire.denivele_pos}} m</td>
                    <td>{{ itineraire.denivele_neg}} m</td>
                    <td>{{ itineraire.duree_estimee}} h</td>
                    <td>{{ itineraire.difficulte_estimee}} /5</td>
                </tr>
            {% endif %}
        {% endfor %}
      {% else %}   
        {% for itineraire in itineraire_list %}
                <tr>
                  <th scope="row"> </th>
                  <td><a href="/itineraires/{{ itineraire.id }}/">{{ itineraire.titre }}</a></td>
                  <td>{{ itineraire.point_depart }}</td>
                  <td>{{ itineraire.description }} </td>
                  <td>{{ itineraire.altitude_depart }} m</td>
                  <td>{{ itineraire.altitude_max }} m</td>
                  <td>{{ itineraire.altitude_min}} m</td>
                  <td>{{ itineraire.denivele_pos}} m</td>
                  <td>{{ itineraire.denivele_neg}} m</td>
                  <td>{{ itineraire.duree_estimee}} h</td>
                  <td>{{ itineraire.difficulte_estimee}} /5</td>
                </tr>
        {% endfor %}
      {% endif %}
      </tbody>
      </table>
    {% else %}
        <p> Aucun itinéraire.</p>
    {% endif %}


            
      </div>
    

    </body>